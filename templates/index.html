<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trackster | Smart Human Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

<div class="overlay"></div>

<div class="main-container">

    <h1>Smart Human Intrusion Detection System</h1>
    <p class="subtitle">AI-Based Real-Time Monitoring & Alerts</p>

    <!-- BUTTONS -->
    <div class="button-group">
        <button class="btn start-btn" onclick="startDetection()">â–¶ Start Detection</button>
        <button class="btn stop-btn" onclick="stopDetection()">â–  Stop Detection</button>
        <button class="btn logs-btn" onclick="window.open('/logs')">ðŸ“„ View Logs</button>
    </div>

    <!-- LIVE STATUS DISPLAY -->
    <div class="status-box">
        <h3>Status: 
            <span id="statusText" style="color: #00ffcc;">Stopped</span>
        </h3>
    </div>

</div>

<!-- JAVASCRIPT SECTION -->
<script>

function startDetection() {
    fetch('/start')
        .then(res => res.text())
        .then(msg => {
            document.getElementById("statusText").innerText = msg;
        });
}

function stopDetection() {
    fetch('/stop')
        .then(res => res.text())
        .then(msg => {
            document.getElementById("statusText").innerText = msg;
        });
}

// LIVE STATUS UPDATE EVERY 2 SECONDS
function updateStatus() {
    fetch('/status')
        .then(res => res.text())
        .then(data => {
            document.getElementById("statusText").innerText = data;
        });
}

// Auto refresh status
setInterval(updateStatus, 2000);

</script>

</body>
</html>
